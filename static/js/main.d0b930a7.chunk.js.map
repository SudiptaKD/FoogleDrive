{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/authentication/CenteredContainer.js","components/authentication/SignUp.js","components/authentication/Profile.js","components/authentication/LogIn.js","components/authentication/PrivateRoute.js","components/authentication/ForgotPassword.js","components/authentication/UpdateProfile.js","hooks/useFolder.js","components/google-drive/AddFolderButton.js","components/google-drive/AddFileButton.js","components/google-drive/Folder.js","components/google-drive/File.js","components/google-drive/google drive.svg.png","components/google-drive/Navbar.js","components/google-drive/FolderBreadcrumbs.js","components/google-drive/Dashboard.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","firestore","database","folders","collection","files","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","storage","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CenteredContainer","Container","className","style","minHeight","maxWidth","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","ref","required","Button","disabled","to","Profile","onClick","Login","PrivateRoute","Component","component","rest","render","props","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","folderId","folder","childFiles","childFolders","AddFolderButton","currentFolder","open","setOpen","setName","closeModal","size","icon","faFolderPlus","Modal","show","onHide","add","parentId","userId","uid","createdAt","onChange","target","Footer","AddFileButton","uploadingFiles","setUploadingFiles","faFileUpload","file","uuidV4","prevUploadingFiles","progress","filePath","join","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","map","uploadFile","filter","getDownloadURL","url","where","get","existingFiles","existingFile","docs","update","opacity","position","left","length","ReactDOM","createPortal","bottom","right","Toast","onClose","Header","closeButton","ProgressBar","animated","now","label","Math","round","document","body","Folder","pathname","as","Link","faFolder","marginRight","File","href","rel","faFile","NavbarComponent","Navbar","bg","expand","Row","marginLeft","width","Col","xl","lg","md","sm","xs","Brand","src","driveLogo","height","alt","Nav","FolderBreadcrumbs","Breadcrumb","listProps","index","Item","linkAs","linkProps","slice","active","Dashboard","useParams","useLocation","useReducer","dispatch","orderBy","onSnapshot","useFolder","fluid","marginTop","childFolder","childFile","App","exact","SignUp","LogIn","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d0b930a7.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n})\r\n\r\nconst firestore = app.firestore()\r\nexport const database = {\r\n  folders: firestore.collection(\"folders\"),\r\n  files: firestore.collection(\"files\"),\r\n  formatDoc: doc => {\r\n    return { id: doc.id, ...doc.data() }\r\n  },\r\n  getCurrentTimestamp: firebase.firestore.FieldValue.serverTimestamp,\r\n}\r\nexport const storage = app.storage()\r\nexport const auth = app.auth()\r\nexport default app\r\n","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Container } from \"react-bootstrap\"\r\n\r\nexport default function CenteredContainer({ children }) {\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n        {children}\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function Signup() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to create an account\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Already have an account? <Link to=\"/login\">Log In</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport { Card, Button, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function Profile() {\r\n  const [error, setError] = useState(\"\")\r\n  const { currentUser, logout } = useAuth()\r\n  const history = useHistory()\r\n\r\n  async function handleLogout() {\r\n    setError(\"\")\r\n\r\n    try {\r\n      await logout()\r\n      history.push(\"/login\")\r\n    } catch {\r\n      setError(\"Failed to log out\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <strong>Email:</strong> {currentUser.email}\r\n          <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\r\n            Update Profile\r\n          </Link>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Button variant=\"link\" onClick={handleLogout}>\r\n          Log Out\r\n        </Button>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Log In</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef()\r\n  const { resetPassword } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setMessage(\"\")\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await resetPassword(emailRef.current.value)\r\n      setMessage(\"Check your inbox for further instructions\")\r\n    } catch {\r\n      setError(\"Failed to reset password\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {message && <Alert variant=\"success\">{message}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Reset Password\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/login\">Login</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { currentUser, updatePassword, updateEmail } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    const promises = []\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value))\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value))\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/user\")\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\")\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                ref={emailRef}\r\n                required\r\n                defaultValue={currentUser.email}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordConfirmRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Update\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Link to=\"/user\">Cancel</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import { useReducer, useEffect } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { database } from \"../firebase\"\r\n\r\nconst ACTIONS = {\r\n  SELECT_FOLDER: \"select-folder\",\r\n  UPDATE_FOLDER: \"update-folder\",\r\n  SET_CHILD_FOLDERS: \"set-child-folders\",\r\n  SET_CHILD_FILES: \"set-child-files\",\r\n}\r\n\r\nexport const ROOT_FOLDER = { name: \"Root\", id: null, path: [] }\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case ACTIONS.SELECT_FOLDER:\r\n      return {\r\n        folderId: payload.folderId,\r\n        folder: payload.folder,\r\n        childFiles: [],\r\n        childFolders: [],\r\n      }\r\n    case ACTIONS.UPDATE_FOLDER:\r\n      return {\r\n        ...state,\r\n        folder: payload.folder,\r\n      }\r\n    case ACTIONS.SET_CHILD_FOLDERS:\r\n      return {\r\n        ...state,\r\n        childFolders: payload.childFolders,\r\n      }\r\n    case ACTIONS.SET_CHILD_FILES:\r\n      return {\r\n        ...state,\r\n        childFiles: payload.childFiles,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport function useFolder(folderId = null, folder = null) {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    folderId,\r\n    folder,\r\n    childFolders: [],\r\n    childFiles: [],\r\n  })\r\n  const { currentUser } = useAuth()\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: ACTIONS.SELECT_FOLDER, payload: { folderId, folder } })\r\n  }, [folderId, folder])\r\n\r\n  useEffect(() => {\r\n    if (folderId == null) {\r\n      return dispatch({\r\n        type: ACTIONS.UPDATE_FOLDER,\r\n        payload: { folder: ROOT_FOLDER },\r\n      })\r\n    }\r\n\r\n    database.folders\r\n      .doc(folderId)\r\n      .get()\r\n      .then(doc => {\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_FOLDER,\r\n          payload: { folder: database.formatDoc(doc) },\r\n        })\r\n      })\r\n      .catch(() => {\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_FOLDER,\r\n          payload: { folder: ROOT_FOLDER },\r\n        })\r\n      })\r\n  }, [folderId])\r\n\r\n  useEffect(() => {\r\n    return database.folders\r\n      .where(\"parentId\", \"==\", folderId)\r\n      .where(\"userId\", \"==\", currentUser.uid)\r\n      .orderBy(\"createdAt\")\r\n      .onSnapshot(snapshot => {\r\n        dispatch({\r\n          type: ACTIONS.SET_CHILD_FOLDERS,\r\n          payload: { childFolders: snapshot.docs.map(database.formatDoc) },\r\n        })\r\n      })\r\n  }, [folderId, currentUser])\r\n\r\n  useEffect(() => {\r\n    return (\r\n      database.files\r\n        .where(\"folderId\", \"==\", folderId)\r\n        .where(\"userId\", \"==\", currentUser.uid)\r\n        // .orderBy(\"createdAt\")\r\n        .onSnapshot(snapshot => {\r\n          dispatch({\r\n            type: ACTIONS.SET_CHILD_FILES,\r\n            payload: { childFiles: snapshot.docs.map(database.formatDoc) },\r\n          })\r\n        })\r\n    )\r\n  }, [folderId, currentUser])\r\n\r\n  return state\r\n}\r\n","import React, { useState } from \"react\"\r\nimport { Button, Modal, Form } from \"react-bootstrap\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faFolderPlus } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { database } from \"../../firebase\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\r\n\r\nexport default function AddFolderButton({ currentFolder }) {\r\n  const [open, setOpen] = useState(false)\r\n  const [name, setName] = useState(\"\")\r\n  const { currentUser } = useAuth()\r\n\r\n  function openModal() {\r\n    setOpen(true)\r\n  }\r\n\r\n  function closeModal() {\r\n    setOpen(false)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if (currentFolder == null) return\r\n\r\n    const path = [...currentFolder.path]\r\n    if (currentFolder !== ROOT_FOLDER) {\r\n      path.push({ name: currentFolder.name, id: currentFolder.id })\r\n    }\r\n\r\n    database.folders.add({\r\n      name: name,\r\n      parentId: currentFolder.id,\r\n      userId: currentUser.uid,\r\n      path: path,\r\n      createdAt: database.getCurrentTimestamp(),\r\n    })\r\n    setName(\"\")\r\n    closeModal()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={openModal} variant=\"outline-success\" size=\"lg\">\r\n        <FontAwesomeIcon icon={faFolderPlus} />\r\n      </Button>\r\n      <Modal show={open} onHide={closeModal}>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Modal.Body>\r\n            <Form.Group>\r\n              <Form.Label>Folder Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                required\r\n                value={name}\r\n                onChange={e => setName(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={closeModal}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"success\" type=\"submit\">\r\n              Add Folder\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { faFileUpload } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { storage, database } from \"../../firebase\"\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\r\nimport { v4 as uuidV4 } from \"uuid\"\r\nimport { ProgressBar, Toast } from \"react-bootstrap\"\r\n\r\nexport default function AddFileButton({ currentFolder }) {\r\n  const [uploadingFiles, setUploadingFiles] = useState([])\r\n  const { currentUser } = useAuth()\r\n\r\n  function handleUpload(e) {\r\n    const file = e.target.files[0]\r\n    if (currentFolder == null || file == null) return\r\n\r\n    const id = uuidV4()\r\n    setUploadingFiles(prevUploadingFiles => [\r\n      ...prevUploadingFiles,\r\n      { id: id, name: file.name, progress: 0, error: false },\r\n    ])\r\n    const filePath =\r\n      currentFolder === ROOT_FOLDER\r\n        ? `${currentFolder.path.join(\"/\")}/${file.name}`\r\n        : `${currentFolder.path.join(\"/\")}/${currentFolder.name}/${file.name}`\r\n\r\n    const uploadTask = storage\r\n      .ref(`/files/${currentUser.uid}/${filePath}`)\r\n      .put(file)\r\n\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {\r\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes\r\n        setUploadingFiles(prevUploadingFiles => {\r\n          return prevUploadingFiles.map(uploadFile => {\r\n            if (uploadFile.id === id) {\r\n              return { ...uploadFile, progress: progress }\r\n            }\r\n\r\n            return uploadFile\r\n          })\r\n        })\r\n      },\r\n      () => {\r\n        setUploadingFiles(prevUploadingFiles => {\r\n          return prevUploadingFiles.map(uploadFile => {\r\n            if (uploadFile.id === id) {\r\n              return { ...uploadFile, error: true }\r\n            }\r\n            return uploadFile\r\n          })\r\n        })\r\n      },\r\n      () => {\r\n        setUploadingFiles(prevUploadingFiles => {\r\n          return prevUploadingFiles.filter(uploadFile => {\r\n            return uploadFile.id !== id\r\n          })\r\n        })\r\n\r\n        uploadTask.snapshot.ref.getDownloadURL().then(url => {\r\n          database.files\r\n            .where(\"name\", \"==\", file.name)\r\n            .where(\"userId\", \"==\", currentUser.uid)\r\n            .where(\"folderId\", \"==\", currentFolder.id)\r\n            .get()\r\n            .then(existingFiles => {\r\n              const existingFile = existingFiles.docs[0]\r\n              if (existingFile) {\r\n                existingFile.ref.update({ url: url })\r\n              } else {\r\n                database.files.add({\r\n                  url: url,\r\n                  name: file.name,\r\n                  createdAt: database.getCurrentTimestamp(),\r\n                  folderId: currentFolder.id,\r\n                  userId: currentUser.uid,\r\n                })\r\n              }\r\n            })\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <label className=\"btn btn-outline-success btn-lg m-0 \">\r\n        <FontAwesomeIcon icon={faFileUpload} />\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleUpload}\r\n          style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }}\r\n        />\r\n      </label>\r\n      {uploadingFiles.length > 0 &&\r\n        ReactDOM.createPortal(\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: \"1rem\",\r\n              right: \"1rem\",\r\n              maxWidth: \"250px\",\r\n            }}\r\n          >\r\n            {uploadingFiles.map(file => (\r\n              <Toast\r\n                key={file.id}\r\n                onClose={() => {\r\n                  setUploadingFiles(prevUploadingFiles => {\r\n                    return prevUploadingFiles.filter(uploadFile => {\r\n                      return uploadFile.id !== file.id\r\n                    })\r\n                  })\r\n                }}\r\n              >\r\n                <Toast.Header\r\n                  closeButton={file.error}\r\n                  className=\"text-truncate w-100 d-block\"\r\n                >\r\n                  {file.name}\r\n                </Toast.Header>\r\n                <Toast.Body>\r\n                  <ProgressBar\r\n                    animated={!file.error}\r\n                    variant={file.error ? \"danger\" : \"primary\"}\r\n                    now={file.error ? 100 : file.progress * 100}\r\n                    label={\r\n                      file.error\r\n                        ? \"Error\"\r\n                        : `${Math.round(file.progress * 100)}%`\r\n                    }\r\n                  />\r\n                </Toast.Body>\r\n              </Toast>\r\n            ))}\r\n          </div>,\r\n          document.body\r\n        )}\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Button } from \"react-bootstrap\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faFolder } from \"@fortawesome/free-solid-svg-icons\"\r\n\r\nexport default function Folder({ folder }) {\r\n  return (\r\n    <Button\r\n      to={{\r\n        pathname: `/folder/${folder.id}`,\r\n        state: { folder: folder },\r\n      }}\r\n      variant=\"outline-primary\"\r\n      className=\"text-truncate w-100\"\r\n      as={Link}\r\n    >\r\n      <FontAwesomeIcon icon={faFolder} style={{marginRight:'10px'}} />\r\n      {folder.name}\r\n    </Button>\r\n  )\r\n}\r\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport React from \"react\"\r\n\r\nexport default function File({ file }) {\r\n  return (\r\n    <a\r\n      href={file.url}\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n      className=\"btn btn-outline-dark text-truncate w-100\"\r\n    >\r\n      <FontAwesomeIcon icon={faFile} style={{marginRight:'10px'}} />\r\n      {file.name}\r\n    </a>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/google drive.svg.bba8aadf.png\";","import React from \"react\"\r\nimport { Navbar, Nav, Row,Col } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\nimport driveLogo from \"./google drive.svg.png\"\r\n\r\nexport default function NavbarComponent() {\r\n  return (\r\n    <Navbar bg=\"secondary\" variant=\"dark\" expand=\"sm\">\r\n      <Row  style={{marginLeft:'20px', width:'100%'}}>\r\n          <Col xl={10} lg={10} md={10} sm={9} xs={8} >\r\n            <Navbar.Brand as={Link} to=\"/\">\r\n                <img src={driveLogo}\r\n                width=\"30\"\r\n                height=\"30\"\r\n                alt=\"logo\" />\r\n            </Navbar.Brand>\r\n            <Navbar.Brand as={Link} to=\"/\">\r\n              Foogle Drive\r\n            </Navbar.Brand>\r\n          </Col>\r\n          <Col xl={2} lg={2} md={2} sm={3} xs={4} >\r\n            <Nav  style={{marginRight:'20px'}}>\r\n              <Nav.Link as={Link} to=\"/user\">\r\n                Profile\r\n              </Nav.Link>\r\n            </Nav>\r\n          </Col>\r\n      </Row>\r\n      \r\n      {/* <Nav>\r\n        <Nav.Link as={Link} to=\"/user\">\r\n          Profile\r\n        </Nav.Link>\r\n      </Nav> */}\r\n    </Navbar>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Breadcrumb } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\r\n\r\nexport default function FolderBreadcrumbs({ currentFolder }) {\r\n  let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER]\r\n  if (currentFolder) path = [...path, ...currentFolder.path]\r\n\r\n  return (\r\n    <Breadcrumb\r\n      className=\"flex-grow-1\"\r\n      listProps={{ className: \"bg-white pl-0 m-0\" }}\r\n    >\r\n      {path.map((folder, index) => (\r\n        <Breadcrumb.Item\r\n          key={folder.id}\r\n          linkAs={Link}\r\n          linkProps={{\r\n            to: {\r\n              pathname: folder.id ? `/folder/${folder.id}` : \"/\",\r\n              state: { folder: { ...folder, path: path.slice(1, index) } },\r\n            },\r\n          }}\r\n          className=\"text-truncate d-inline-block\"\r\n          style={{ maxWidth: \"150px\" }}\r\n        >\r\n          {folder.name}\r\n        </Breadcrumb.Item>\r\n      ))}\r\n      {currentFolder && (\r\n        <Breadcrumb.Item\r\n          className=\"text-truncate d-inline-block\"\r\n          style={{ maxWidth: \"200px\" }}\r\n          active\r\n        >\r\n          {currentFolder.name}\r\n        </Breadcrumb.Item>\r\n      )}\r\n    </Breadcrumb>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Col, Container, Row } from \"react-bootstrap\"\r\nimport { useFolder } from \"../../hooks/useFolder\"\r\nimport AddFolderButton from \"./AddFolderButton\"\r\nimport AddFileButton from \"./AddFileButton\"\r\nimport Folder from \"./Folder\"\r\nimport File from \"./File\"\r\nimport Navbar from \"./Navbar\"\r\nimport FolderBreadcrumbs from \"./FolderBreadcrumbs\"\r\nimport { useParams, useLocation } from \"react-router-dom\"\r\n\r\nexport default function Dashboard() {\r\n  const { folderId } = useParams()\r\n  const { state = {} } = useLocation()\r\n  const { folder, childFolders, childFiles } = useFolder(folderId, state.folder)\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <Container fluid>\r\n        <Row style={{marginTop:'20px'}}>\r\n          <Col xl={10} lg={10} md={8} sm={8} xs={8} >\r\n            <FolderBreadcrumbs currentFolder={folder} />\r\n          </Col>\r\n          <Col xl={1} lg={1} md={2} sm={2} xs={2} >\r\n          <AddFileButton currentFolder={folder} />\r\n          </Col>\r\n          <Col xl={1} lg={1} md={2} sm={2} xs={2} >\r\n          <AddFolderButton currentFolder={folder} />\r\n          </Col>\r\n        </Row>\r\n             <hr/>      \r\n        {childFolders.length > 0 && (\r\n          <div className=\"d-flex flex-wrap\">\r\n            {childFolders.map(childFolder => (\r\n              <div\r\n                key={childFolder.id}\r\n                style={{ maxWidth: \"250px\" }}\r\n                className=\"p-2\"\r\n              >\r\n                <Folder folder={childFolder} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n        {childFolders.length > 0 && childFiles.length > 0 && <hr />}\r\n        {childFiles.length > 0 && (\r\n          <div className=\"d-flex flex-wrap\">\r\n            {childFiles.map(childFile => (\r\n              <div\r\n                key={childFile.id}\r\n                style={{ maxWidth: \"250px\" }}\r\n                className=\"p-2\"\r\n              >\r\n                <File file={childFile} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport SignUp from \"./authentication/SignUp\"\r\nimport { AuthProvider } from \"../contexts/AuthContext\"\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport Profile from \"./authentication/Profile\"\r\nimport LogIn from \"./authentication/LogIn\"\r\nimport PrivateRoute from \"./authentication/PrivateRoute\"\r\nimport ForgotPassword from \"./authentication/ForgotPassword\"\r\nimport UpdateProfile from \"./authentication/UpdateProfile\"\r\nimport Dashboard from \"./google-drive/Dashboard\"\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <AuthProvider>\r\n        <Switch>\r\n          {/* Drive */}\r\n          <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n          <PrivateRoute exact path=\"/folder/:folderId\" component={Dashboard} />\r\n\r\n          {/* Profile */}\r\n          <PrivateRoute path=\"/user\" component={Profile} />\r\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\r\n\r\n          {/* Auth */}\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <Route path=\"/login\" component={LogIn} />\r\n          <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n        </Switch>\r\n      </AuthProvider>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./components/App\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}